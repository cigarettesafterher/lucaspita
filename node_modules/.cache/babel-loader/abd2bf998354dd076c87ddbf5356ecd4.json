{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.FilePlayer = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../utils\");\n\nvar _singlePlayer = _interopRequireDefault(require(\"../singlePlayer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar IOS = typeof navigator !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nvar AUDIO_EXTENSIONS = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nvar VIDEO_EXTENSIONS = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nvar HLS_EXTENSIONS = /\\.(m3u8)($|\\?)/i;\nvar HLS_SDK_URL = 'https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js';\nvar HLS_GLOBAL = 'Hls';\nvar DASH_EXTENSIONS = /\\.(mpd)($|\\?)/i;\nvar DASH_SDK_URL = 'https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js';\nvar DASH_GLOBAL = 'dashjs';\nvar MATCH_DROPBOX_URL = /www\\.dropbox\\.com\\/.+/;\n\nfunction canPlay(url) {\n  if (url instanceof Array) {\n    var _iterator = _createForOfIteratorHelper(url),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n\n        if (typeof item === 'string' && canPlay(item)) {\n          return true;\n        }\n\n        if (canPlay(item.src)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return false;\n  }\n\n  if ((0, _utils.isMediaStream)(url)) {\n    return true;\n  }\n\n  return AUDIO_EXTENSIONS.test(url) || VIDEO_EXTENSIONS.test(url) || HLS_EXTENSIONS.test(url) || DASH_EXTENSIONS.test(url);\n}\n\nfunction supportsWebKitPresentationMode(video) {\n  if (!video) video = document.createElement('video'); // Check if Safari supports PiP, and is not on mobile (other than iPad)\n  // iPhone safari appears to \"support\" PiP through the check, however PiP does not function\n\n  return video.webkitSupportsPresentationMode && typeof video.webkitSetPresentationMode === 'function' && !/iPhone|iPod/.test(navigator.userAgent);\n}\n\nfunction canEnablePIP(url) {\n  return canPlay(url) && (!!document.pictureInPictureEnabled || supportsWebKitPresentationMode()) && !AUDIO_EXTENSIONS.test(url);\n}\n\nvar FilePlayer = /*#__PURE__*/function (_Component) {\n  _inherits(FilePlayer, _Component);\n\n  var _super = _createSuper(FilePlayer);\n\n  function FilePlayer() {\n    var _this;\n\n    _classCallCheck(this, FilePlayer);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onReady\", function () {\n      var _this$props;\n\n      return (_this$props = _this.props).onReady.apply(_this$props, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlay\", function () {\n      var _this$props2;\n\n      return (_this$props2 = _this.props).onPlay.apply(_this$props2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBuffer\", function () {\n      var _this$props3;\n\n      return (_this$props3 = _this.props).onBuffer.apply(_this$props3, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBufferEnd\", function () {\n      var _this$props4;\n\n      return (_this$props4 = _this.props).onBufferEnd.apply(_this$props4, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPause\", function () {\n      var _this$props5;\n\n      return (_this$props5 = _this.props).onPause.apply(_this$props5, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEnded\", function () {\n      var _this$props6;\n\n      return (_this$props6 = _this.props).onEnded.apply(_this$props6, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onError\", function () {\n      var _this$props7;\n\n      return (_this$props7 = _this.props).onError.apply(_this$props7, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEnablePIP\", function () {\n      var _this$props8;\n\n      return (_this$props8 = _this.props).onEnablePIP.apply(_this$props8, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDisablePIP\", function (e) {\n      var _this$props9 = _this.props,\n          onDisablePIP = _this$props9.onDisablePIP,\n          playing = _this$props9.playing;\n      onDisablePIP(e);\n\n      if (playing) {\n        _this.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPresentationModeChange\", function (e) {\n      if (_this.player && supportsWebKitPresentationMode(_this.player)) {\n        var webkitPresentationMode = _this.player.webkitPresentationMode;\n\n        if (webkitPresentationMode === 'picture-in-picture') {\n          _this.onEnablePIP(e);\n        } else if (webkitPresentationMode === 'inline') {\n          _this.onDisablePIP(e);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSeek\", function (e) {\n      _this.props.onSeek(e.target.currentTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mute\", function () {\n      _this.player.muted = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unmute\", function () {\n      _this.player.muted = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSourceElement\", function (source, index) {\n      if (typeof source === 'string') {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"source\", {\n          key: index,\n          src: source\n        });\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"source\", _extends({\n        key: index\n      }, source));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrack\", function (track, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"track\", _extends({\n        key: index\n      }, track));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (player) {\n      if (_this.player) {\n        // Store previous player to be used by removeListeners()\n        _this.prevPlayer = _this.player;\n      }\n\n      _this.player = player;\n    });\n\n    return _this;\n  }\n\n  _createClass(FilePlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addListeners(this.player);\n\n      if (IOS) {\n        this.player.load();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.shouldUseAudio(this.props) !== this.shouldUseAudio(prevProps)) {\n        this.removeListeners(this.prevPlayer);\n        this.addListeners(this.player);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeListeners(this.player);\n\n      if (this.hls) {\n        this.hls.destroy();\n      }\n    }\n  }, {\n    key: \"addListeners\",\n    value: function addListeners(player) {\n      var playsinline = this.props.playsinline;\n      player.addEventListener('canplay', this.onReady);\n      player.addEventListener('play', this.onPlay);\n      player.addEventListener('waiting', this.onBuffer);\n      player.addEventListener('playing', this.onBufferEnd);\n      player.addEventListener('pause', this.onPause);\n      player.addEventListener('seeked', this.onSeek);\n      player.addEventListener('ended', this.onEnded);\n      player.addEventListener('error', this.onError);\n      player.addEventListener('enterpictureinpicture', this.onEnablePIP);\n      player.addEventListener('leavepictureinpicture', this.onDisablePIP);\n      player.addEventListener('webkitpresentationmodechanged', this.onPresentationModeChange);\n\n      if (playsinline) {\n        player.setAttribute('playsinline', '');\n        player.setAttribute('webkit-playsinline', '');\n        player.setAttribute('x5-playsinline', '');\n      }\n    }\n  }, {\n    key: \"removeListeners\",\n    value: function removeListeners(player) {\n      player.removeEventListener('canplay', this.onReady);\n      player.removeEventListener('play', this.onPlay);\n      player.removeEventListener('waiting', this.onBuffer);\n      player.removeEventListener('playing', this.onBufferEnd);\n      player.removeEventListener('pause', this.onPause);\n      player.removeEventListener('seeked', this.onSeek);\n      player.removeEventListener('ended', this.onEnded);\n      player.removeEventListener('error', this.onError);\n      player.removeEventListener('enterpictureinpicture', this.onEnablePIP);\n      player.removeEventListener('leavepictureinpicture', this.onDisablePIP);\n      player.removeEventListener('webkitpresentationmodechanged', this.onPresentationModeChange);\n    } // Proxy methods to prevent listener leaks\n\n  }, {\n    key: \"shouldUseAudio\",\n    value: function shouldUseAudio(props) {\n      if (props.config.file.forceVideo) {\n        return false;\n      }\n\n      if (props.config.file.attributes.poster) {\n        return false; // Use <video> so that poster is shown\n      }\n\n      return AUDIO_EXTENSIONS.test(props.url) || props.config.file.forceAudio;\n    }\n  }, {\n    key: \"shouldUseHLS\",\n    value: function shouldUseHLS(url) {\n      return HLS_EXTENSIONS.test(url) && !IOS || this.props.config.file.forceHLS;\n    }\n  }, {\n    key: \"shouldUseDASH\",\n    value: function shouldUseDASH(url) {\n      return DASH_EXTENSIONS.test(url) || this.props.config.file.forceDASH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n\n      var _this$props$config$fi = this.props.config.file,\n          hlsVersion = _this$props$config$fi.hlsVersion,\n          dashVersion = _this$props$config$fi.dashVersion;\n\n      if (this.shouldUseHLS(url)) {\n        (0, _utils.getSDK)(HLS_SDK_URL.replace('VERSION', hlsVersion), HLS_GLOBAL).then(function (Hls) {\n          _this2.hls = new Hls(_this2.props.config.file.hlsOptions);\n\n          _this2.hls.on(Hls.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.hls, Hls);\n          });\n\n          _this2.hls.loadSource(url);\n\n          _this2.hls.attachMedia(_this2.player);\n        });\n      }\n\n      if (this.shouldUseDASH(url)) {\n        (0, _utils.getSDK)(DASH_SDK_URL.replace('VERSION', dashVersion), DASH_GLOBAL).then(function (dashjs) {\n          _this2.dash = dashjs.MediaPlayer().create();\n\n          _this2.dash.initialize(_this2.player, url, _this2.props.playing);\n\n          _this2.dash.on('error', _this2.props.onError);\n\n          _this2.dash.getDebug().setLogToBrowserConsole(false);\n        });\n      }\n\n      if (url instanceof Array) {\n        // When setting new urls (<source>) on an already loaded video,\n        // HTMLMediaElement.load() is needed to reset the media element\n        // and restart the media resource. Just replacing children source\n        // dom nodes is not enough\n        this.player.load();\n      } else if ((0, _utils.isMediaStream)(url)) {\n        try {\n          this.player.srcObject = url;\n        } catch (e) {\n          this.player.src = window.URL.createObjectURL(url);\n        }\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.player.play();\n\n      if (promise) {\n        promise[\"catch\"](this.props.onError);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.player.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.player.removeAttribute('src');\n\n      if (this.dash) {\n        this.dash.reset();\n      }\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(seconds) {\n      this.player.currentTime = seconds;\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.player.volume = fraction;\n    }\n  }, {\n    key: \"enablePIP\",\n    value: function enablePIP() {\n      if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\n        this.player.requestPictureInPicture();\n      } else if (supportsWebKitPresentationMode(this.player) && this.player.webkitPresentationMode !== 'picture-in-picture') {\n        this.player.webkitSetPresentationMode('picture-in-picture');\n      }\n    }\n  }, {\n    key: \"disablePIP\",\n    value: function disablePIP() {\n      if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\n        document.exitPictureInPicture();\n      } else if (supportsWebKitPresentationMode(this.player) && this.player.webkitPresentationMode !== 'inline') {\n        this.player.webkitSetPresentationMode('inline');\n      }\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.player) return null;\n      var _this$player = this.player,\n          duration = _this$player.duration,\n          seekable = _this$player.seekable; // on iOS, live streams return Infinity for the duration\n      // so instead we use the end of the seekable timerange\n\n      if (duration === Infinity && seekable.length > 0) {\n        return seekable.end(seekable.length - 1);\n      }\n\n      return duration;\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.player) return null;\n      return this.player.currentTime;\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.player) return null;\n      var buffered = this.player.buffered;\n\n      if (buffered.length === 0) {\n        return 0;\n      }\n\n      var end = buffered.end(buffered.length - 1);\n      var duration = this.getDuration();\n\n      if (end > duration) {\n        return duration;\n      }\n\n      return end;\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(url) {\n      var useHLS = this.shouldUseHLS(url);\n      var useDASH = this.shouldUseDASH(url);\n\n      if (url instanceof Array || (0, _utils.isMediaStream)(url) || useHLS || useDASH) {\n        return undefined;\n      }\n\n      if (MATCH_DROPBOX_URL.test(url)) {\n        return url.replace('www.dropbox.com', 'dl.dropboxusercontent.com');\n      }\n\n      return url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props10 = this.props,\n          url = _this$props10.url,\n          playing = _this$props10.playing,\n          loop = _this$props10.loop,\n          controls = _this$props10.controls,\n          muted = _this$props10.muted,\n          config = _this$props10.config,\n          width = _this$props10.width,\n          height = _this$props10.height;\n      var useAudio = this.shouldUseAudio(this.props);\n      var Element = useAudio ? 'audio' : 'video';\n      var style = {\n        width: width === 'auto' ? width : '100%',\n        height: height === 'auto' ? height : '100%'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, _extends({\n        ref: this.ref,\n        src: this.getSource(url),\n        style: style,\n        preload: \"auto\",\n        autoPlay: playing || undefined,\n        controls: controls,\n        muted: muted,\n        loop: loop\n      }, config.file.attributes), url instanceof Array && url.map(this.renderSourceElement), config.file.tracks.map(this.renderTrack));\n    }\n  }]);\n\n  return FilePlayer;\n}(_react.Component);\n\nexports.FilePlayer = FilePlayer;\n\n_defineProperty(FilePlayer, \"displayName\", 'FilePlayer');\n\n_defineProperty(FilePlayer, \"canPlay\", canPlay);\n\n_defineProperty(FilePlayer, \"canEnablePIP\", canEnablePIP);\n\nvar _default = (0, _singlePlayer[\"default\"])(FilePlayer);\n\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","FilePlayer","_react","_interopRequireWildcard","require","_utils","_singlePlayer","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","_typeof","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","_extends","assign","target","i","arguments","length","source","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_createSuper","Derived","Super","_getPrototypeOf","result","_isNativeReflectConstruct","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","F","s","n","done","_e","f","it","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","slice","name","from","test","arr","len","arr2","IOS","navigator","userAgent","window","MSStream","AUDIO_EXTENSIONS","VIDEO_EXTENSIONS","HLS_EXTENSIONS","HLS_SDK_URL","HLS_GLOBAL","DASH_EXTENSIONS","DASH_SDK_URL","DASH_GLOBAL","MATCH_DROPBOX_URL","canPlay","url","_iterator","_step","item","src","isMediaStream","supportsWebKitPresentationMode","video","document","createElement","webkitSupportsPresentationMode","webkitSetPresentationMode","canEnablePIP","pictureInPictureEnabled","_Component","_super","_this","_len","_args","_key","concat","_this$props","onReady","_this$props2","onPlay","_this$props3","onBuffer","_this$props4","onBufferEnd","_this$props5","onPause","_this$props6","onEnded","_this$props7","onError","_this$props8","onEnablePIP","_this$props9","onDisablePIP","playing","play","player","webkitPresentationMode","onSeek","currentTime","muted","index","track","prevPlayer","componentDidMount","addListeners","load","componentDidUpdate","prevProps","shouldUseAudio","removeListeners","componentWillUnmount","hls","destroy","playsinline","addEventListener","onPresentationModeChange","setAttribute","removeEventListener","config","file","forceVideo","attributes","poster","forceAudio","shouldUseHLS","forceHLS","shouldUseDASH","forceDASH","_this2","_this$props$config$fi","hlsVersion","dashVersion","getSDK","replace","then","Hls","hlsOptions","on","Events","ERROR","data","loadSource","attachMedia","dashjs","dash","MediaPlayer","initialize","getDebug","setLogToBrowserConsole","srcObject","URL","createObjectURL","promise","pause","stop","removeAttribute","reset","seekTo","seconds","setVolume","fraction","volume","enablePIP","requestPictureInPicture","pictureInPictureElement","disablePIP","exitPictureInPicture","setPlaybackRate","rate","playbackRate","getDuration","_this$player","duration","seekable","Infinity","end","getCurrentTime","getSecondsLoaded","buffered","getSource","useHLS","useDASH","undefined","render","_this$props10","loop","controls","width","height","useAudio","Element","style","ref","preload","autoPlay","map","renderSourceElement","tracks","renderTrack","Component","_default"],"sources":["/Users/lucaspitaperex/Desktop/portfolio-lucaspitaperez/node_modules/react-player/lib/players/FilePlayer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.FilePlayer = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../utils\");\n\nvar _singlePlayer = _interopRequireDefault(require(\"../singlePlayer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar IOS = typeof navigator !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nvar AUDIO_EXTENSIONS = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nvar VIDEO_EXTENSIONS = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nvar HLS_EXTENSIONS = /\\.(m3u8)($|\\?)/i;\nvar HLS_SDK_URL = 'https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js';\nvar HLS_GLOBAL = 'Hls';\nvar DASH_EXTENSIONS = /\\.(mpd)($|\\?)/i;\nvar DASH_SDK_URL = 'https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js';\nvar DASH_GLOBAL = 'dashjs';\nvar MATCH_DROPBOX_URL = /www\\.dropbox\\.com\\/.+/;\n\nfunction canPlay(url) {\n  if (url instanceof Array) {\n    var _iterator = _createForOfIteratorHelper(url),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n\n        if (typeof item === 'string' && canPlay(item)) {\n          return true;\n        }\n\n        if (canPlay(item.src)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return false;\n  }\n\n  if ((0, _utils.isMediaStream)(url)) {\n    return true;\n  }\n\n  return AUDIO_EXTENSIONS.test(url) || VIDEO_EXTENSIONS.test(url) || HLS_EXTENSIONS.test(url) || DASH_EXTENSIONS.test(url);\n}\n\nfunction supportsWebKitPresentationMode(video) {\n  if (!video) video = document.createElement('video'); // Check if Safari supports PiP, and is not on mobile (other than iPad)\n  // iPhone safari appears to \"support\" PiP through the check, however PiP does not function\n\n  return video.webkitSupportsPresentationMode && typeof video.webkitSetPresentationMode === 'function' && !/iPhone|iPod/.test(navigator.userAgent);\n}\n\nfunction canEnablePIP(url) {\n  return canPlay(url) && (!!document.pictureInPictureEnabled || supportsWebKitPresentationMode()) && !AUDIO_EXTENSIONS.test(url);\n}\n\nvar FilePlayer = /*#__PURE__*/function (_Component) {\n  _inherits(FilePlayer, _Component);\n\n  var _super = _createSuper(FilePlayer);\n\n  function FilePlayer() {\n    var _this;\n\n    _classCallCheck(this, FilePlayer);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onReady\", function () {\n      var _this$props;\n\n      return (_this$props = _this.props).onReady.apply(_this$props, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlay\", function () {\n      var _this$props2;\n\n      return (_this$props2 = _this.props).onPlay.apply(_this$props2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBuffer\", function () {\n      var _this$props3;\n\n      return (_this$props3 = _this.props).onBuffer.apply(_this$props3, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBufferEnd\", function () {\n      var _this$props4;\n\n      return (_this$props4 = _this.props).onBufferEnd.apply(_this$props4, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPause\", function () {\n      var _this$props5;\n\n      return (_this$props5 = _this.props).onPause.apply(_this$props5, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEnded\", function () {\n      var _this$props6;\n\n      return (_this$props6 = _this.props).onEnded.apply(_this$props6, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onError\", function () {\n      var _this$props7;\n\n      return (_this$props7 = _this.props).onError.apply(_this$props7, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEnablePIP\", function () {\n      var _this$props8;\n\n      return (_this$props8 = _this.props).onEnablePIP.apply(_this$props8, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDisablePIP\", function (e) {\n      var _this$props9 = _this.props,\n          onDisablePIP = _this$props9.onDisablePIP,\n          playing = _this$props9.playing;\n      onDisablePIP(e);\n\n      if (playing) {\n        _this.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPresentationModeChange\", function (e) {\n      if (_this.player && supportsWebKitPresentationMode(_this.player)) {\n        var webkitPresentationMode = _this.player.webkitPresentationMode;\n\n        if (webkitPresentationMode === 'picture-in-picture') {\n          _this.onEnablePIP(e);\n        } else if (webkitPresentationMode === 'inline') {\n          _this.onDisablePIP(e);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSeek\", function (e) {\n      _this.props.onSeek(e.target.currentTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mute\", function () {\n      _this.player.muted = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unmute\", function () {\n      _this.player.muted = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSourceElement\", function (source, index) {\n      if (typeof source === 'string') {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"source\", {\n          key: index,\n          src: source\n        });\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"source\", _extends({\n        key: index\n      }, source));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrack\", function (track, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"track\", _extends({\n        key: index\n      }, track));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (player) {\n      if (_this.player) {\n        // Store previous player to be used by removeListeners()\n        _this.prevPlayer = _this.player;\n      }\n\n      _this.player = player;\n    });\n\n    return _this;\n  }\n\n  _createClass(FilePlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addListeners(this.player);\n\n      if (IOS) {\n        this.player.load();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.shouldUseAudio(this.props) !== this.shouldUseAudio(prevProps)) {\n        this.removeListeners(this.prevPlayer);\n        this.addListeners(this.player);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeListeners(this.player);\n\n      if (this.hls) {\n        this.hls.destroy();\n      }\n    }\n  }, {\n    key: \"addListeners\",\n    value: function addListeners(player) {\n      var playsinline = this.props.playsinline;\n      player.addEventListener('canplay', this.onReady);\n      player.addEventListener('play', this.onPlay);\n      player.addEventListener('waiting', this.onBuffer);\n      player.addEventListener('playing', this.onBufferEnd);\n      player.addEventListener('pause', this.onPause);\n      player.addEventListener('seeked', this.onSeek);\n      player.addEventListener('ended', this.onEnded);\n      player.addEventListener('error', this.onError);\n      player.addEventListener('enterpictureinpicture', this.onEnablePIP);\n      player.addEventListener('leavepictureinpicture', this.onDisablePIP);\n      player.addEventListener('webkitpresentationmodechanged', this.onPresentationModeChange);\n\n      if (playsinline) {\n        player.setAttribute('playsinline', '');\n        player.setAttribute('webkit-playsinline', '');\n        player.setAttribute('x5-playsinline', '');\n      }\n    }\n  }, {\n    key: \"removeListeners\",\n    value: function removeListeners(player) {\n      player.removeEventListener('canplay', this.onReady);\n      player.removeEventListener('play', this.onPlay);\n      player.removeEventListener('waiting', this.onBuffer);\n      player.removeEventListener('playing', this.onBufferEnd);\n      player.removeEventListener('pause', this.onPause);\n      player.removeEventListener('seeked', this.onSeek);\n      player.removeEventListener('ended', this.onEnded);\n      player.removeEventListener('error', this.onError);\n      player.removeEventListener('enterpictureinpicture', this.onEnablePIP);\n      player.removeEventListener('leavepictureinpicture', this.onDisablePIP);\n      player.removeEventListener('webkitpresentationmodechanged', this.onPresentationModeChange);\n    } // Proxy methods to prevent listener leaks\n\n  }, {\n    key: \"shouldUseAudio\",\n    value: function shouldUseAudio(props) {\n      if (props.config.file.forceVideo) {\n        return false;\n      }\n\n      if (props.config.file.attributes.poster) {\n        return false; // Use <video> so that poster is shown\n      }\n\n      return AUDIO_EXTENSIONS.test(props.url) || props.config.file.forceAudio;\n    }\n  }, {\n    key: \"shouldUseHLS\",\n    value: function shouldUseHLS(url) {\n      return HLS_EXTENSIONS.test(url) && !IOS || this.props.config.file.forceHLS;\n    }\n  }, {\n    key: \"shouldUseDASH\",\n    value: function shouldUseDASH(url) {\n      return DASH_EXTENSIONS.test(url) || this.props.config.file.forceDASH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n\n      var _this$props$config$fi = this.props.config.file,\n          hlsVersion = _this$props$config$fi.hlsVersion,\n          dashVersion = _this$props$config$fi.dashVersion;\n\n      if (this.shouldUseHLS(url)) {\n        (0, _utils.getSDK)(HLS_SDK_URL.replace('VERSION', hlsVersion), HLS_GLOBAL).then(function (Hls) {\n          _this2.hls = new Hls(_this2.props.config.file.hlsOptions);\n\n          _this2.hls.on(Hls.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.hls, Hls);\n          });\n\n          _this2.hls.loadSource(url);\n\n          _this2.hls.attachMedia(_this2.player);\n        });\n      }\n\n      if (this.shouldUseDASH(url)) {\n        (0, _utils.getSDK)(DASH_SDK_URL.replace('VERSION', dashVersion), DASH_GLOBAL).then(function (dashjs) {\n          _this2.dash = dashjs.MediaPlayer().create();\n\n          _this2.dash.initialize(_this2.player, url, _this2.props.playing);\n\n          _this2.dash.on('error', _this2.props.onError);\n\n          _this2.dash.getDebug().setLogToBrowserConsole(false);\n        });\n      }\n\n      if (url instanceof Array) {\n        // When setting new urls (<source>) on an already loaded video,\n        // HTMLMediaElement.load() is needed to reset the media element\n        // and restart the media resource. Just replacing children source\n        // dom nodes is not enough\n        this.player.load();\n      } else if ((0, _utils.isMediaStream)(url)) {\n        try {\n          this.player.srcObject = url;\n        } catch (e) {\n          this.player.src = window.URL.createObjectURL(url);\n        }\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.player.play();\n\n      if (promise) {\n        promise[\"catch\"](this.props.onError);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.player.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.player.removeAttribute('src');\n\n      if (this.dash) {\n        this.dash.reset();\n      }\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(seconds) {\n      this.player.currentTime = seconds;\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.player.volume = fraction;\n    }\n  }, {\n    key: \"enablePIP\",\n    value: function enablePIP() {\n      if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\n        this.player.requestPictureInPicture();\n      } else if (supportsWebKitPresentationMode(this.player) && this.player.webkitPresentationMode !== 'picture-in-picture') {\n        this.player.webkitSetPresentationMode('picture-in-picture');\n      }\n    }\n  }, {\n    key: \"disablePIP\",\n    value: function disablePIP() {\n      if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\n        document.exitPictureInPicture();\n      } else if (supportsWebKitPresentationMode(this.player) && this.player.webkitPresentationMode !== 'inline') {\n        this.player.webkitSetPresentationMode('inline');\n      }\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.player) return null;\n      var _this$player = this.player,\n          duration = _this$player.duration,\n          seekable = _this$player.seekable; // on iOS, live streams return Infinity for the duration\n      // so instead we use the end of the seekable timerange\n\n      if (duration === Infinity && seekable.length > 0) {\n        return seekable.end(seekable.length - 1);\n      }\n\n      return duration;\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.player) return null;\n      return this.player.currentTime;\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.player) return null;\n      var buffered = this.player.buffered;\n\n      if (buffered.length === 0) {\n        return 0;\n      }\n\n      var end = buffered.end(buffered.length - 1);\n      var duration = this.getDuration();\n\n      if (end > duration) {\n        return duration;\n      }\n\n      return end;\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(url) {\n      var useHLS = this.shouldUseHLS(url);\n      var useDASH = this.shouldUseDASH(url);\n\n      if (url instanceof Array || (0, _utils.isMediaStream)(url) || useHLS || useDASH) {\n        return undefined;\n      }\n\n      if (MATCH_DROPBOX_URL.test(url)) {\n        return url.replace('www.dropbox.com', 'dl.dropboxusercontent.com');\n      }\n\n      return url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props10 = this.props,\n          url = _this$props10.url,\n          playing = _this$props10.playing,\n          loop = _this$props10.loop,\n          controls = _this$props10.controls,\n          muted = _this$props10.muted,\n          config = _this$props10.config,\n          width = _this$props10.width,\n          height = _this$props10.height;\n      var useAudio = this.shouldUseAudio(this.props);\n      var Element = useAudio ? 'audio' : 'video';\n      var style = {\n        width: width === 'auto' ? width : '100%',\n        height: height === 'auto' ? height : '100%'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, _extends({\n        ref: this.ref,\n        src: this.getSource(url),\n        style: style,\n        preload: \"auto\",\n        autoPlay: playing || undefined,\n        controls: controls,\n        muted: muted,\n        loop: loop\n      }, config.file.attributes), url instanceof Array && url.map(this.renderSourceElement), config.file.tracks.map(this.renderTrack));\n    }\n  }]);\n\n  return FilePlayer;\n}(_react.Component);\n\nexports.FilePlayer = FilePlayer;\n\n_defineProperty(FilePlayer, \"displayName\", 'FilePlayer');\n\n_defineProperty(FilePlayer, \"canPlay\", canPlay);\n\n_defineProperty(FilePlayer, \"canEnablePIP\", canEnablePIP);\n\nvar _default = (0, _singlePlayer[\"default\"])(FilePlayer);\n\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}