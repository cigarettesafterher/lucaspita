{"ast":null,"code":"import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport defaultRouter from './routeToBlock';\nimport defaultRender from './renderer';\nvar IS_BROWSER = typeof window === 'object';\nvar defaultBlocks = {\n  dropbox: React.lazy(function () {\n    return import('./blocks/dropbox');\n  }),\n  figma: React.lazy(function () {\n    return import('./blocks/figma');\n  }),\n  gfycat: React.lazy(function () {\n    return import('./blocks/gfycat');\n  }),\n  gist: React.lazy(function () {\n    return import('./blocks/gist');\n  }),\n  gmaps: React.lazy(function () {\n    return import('./blocks/gmaps');\n  }),\n  imgur: React.lazy(function () {\n    return import('./blocks/imgur');\n  }),\n  instagram: React.lazy(function () {\n    return import('./blocks/instagram');\n  }),\n  jsfiddle: React.lazy(function () {\n    return import('./blocks/jsfiddle');\n  }),\n  pdf: React.lazy(function () {\n    return import('./blocks/pdf');\n  }),\n  reactPlayer: React.lazy(function () {\n    return import('./blocks/react-player');\n  }),\n  replit: React.lazy(function () {\n    return import('./blocks/replit');\n  }),\n  simplePlayer: React.lazy(function () {\n    return import('./blocks/react-simple-player');\n  }),\n  soundcloud: React.lazy(function () {\n    return import('./blocks/soundcloud');\n  }),\n  tweet: React.lazy(function () {\n    return import('./blocks/tweet');\n  }),\n  youtube: React.lazy(function () {\n    return import('./blocks/youtube');\n  })\n};\n\nvar renderNull = function () {\n  return null;\n};\n\nvar renderWrap = function (children) {\n  return children;\n};\n\nvar ReactEmbed = function (_super) {\n  __extends(ReactEmbed, _super);\n\n  function ReactEmbed() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {};\n    return _this;\n  }\n\n  ReactEmbed.getDerivedStateFromProps = function (props) {\n    if (!IS_BROWSER) return null;\n\n    if (typeof props.url === 'string') {\n      try {\n        var url = new URL(props.url);\n        var hostname = url.hostname,\n            pathname = url.pathname,\n            search = url.search,\n            hash = url.hash;\n        return {\n          url: {\n            url: props.url,\n            hostname: hostname,\n            pathname: pathname,\n            search: search,\n            hash: hash\n          }\n        };\n      } catch (error) {\n        return {\n          error: error\n        };\n      }\n    } else {\n      return undefined;\n    }\n  };\n\n  ReactEmbed.getDerivedStateFromError = function (error) {\n    return {\n      error: error\n    };\n  };\n\n  ReactEmbed.prototype.render = function () {\n    if (!IS_BROWSER) return null;\n\n    var _a = this,\n        props = _a.props,\n        state = _a.state;\n\n    if (state.error) return props.renderVoid(props, state, state.error);\n    var result;\n\n    try {\n      result = props.router(props.blocks, state.url);\n    } catch (error) {\n      console.error('Could not route block:', error);\n      return props.renderVoid(props, state, error);\n    }\n\n    if (!result || !result[0]) return props.renderVoid(props, state);\n    var _b = result,\n        Block = _b[0],\n        id = _b[1];\n    return props.render(Block, id, props, state);\n  };\n\n  ReactEmbed.defaultProps = {\n    width: typeof window === 'object' ? window.innerWidth : 0,\n    isDark: false,\n    blocks: defaultBlocks,\n    router: defaultRouter,\n    render: defaultRender,\n    renderVoid: renderNull,\n    renderWrap: renderWrap\n  };\n  return ReactEmbed;\n}(React.PureComponent);\n\nexport { ReactEmbed };\nexport default ReactEmbed;","map":{"version":3,"mappings":"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","names":["React","defaultRouter","defaultRender","IS_BROWSER","window","defaultBlocks","dropbox","lazy","figma","gfycat","gist","gmaps","imgur","instagram","jsfiddle","pdf","reactPlayer","replit","simplePlayer","soundcloud","tweet","youtube","renderNull","renderWrap","children","__extends","_this","ReactEmbed","props","url","URL","pathname","search","hash","hostname","error","undefined","state","renderVoid","result","router","blocks","console","Block","id","render","width","innerWidth","isDark","PureComponent"],"sources":["../src/ReactEmbed.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}