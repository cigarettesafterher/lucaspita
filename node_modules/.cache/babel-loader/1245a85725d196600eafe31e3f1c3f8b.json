{"ast":null,"code":"import canPlaySimplePlayer from './blocks/react-simple-player/canPlay';\nimport canPlay from './blocks/react-player/canPlay';\nimport canPlayPdf from './blocks/pdf/canPlay';\n\nvar routeTwitter = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (!steps.length) return undefined;\n  return [blocks.tweet, steps[steps.length - 1]];\n};\n\nvar routeYouTube = function (blocks, parsed) {\n  var searchMatch = parsed.search.match(/v=([^\\&]+)(&|$)/);\n  var urlMatch = parsed.pathname.replace('/', '');\n\n  if (searchMatch) {\n    return [blocks.youtube, searchMatch[1]];\n  } else if (urlMatch) {\n    return [blocks.youtube, urlMatch];\n  } else {\n    return undefined;\n  }\n};\n\nvar routeJsFiddle = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 2) return undefined;\n  return [blocks.jsfiddle, steps[1]];\n};\n\nvar routeImgur = function (blocks, _a) {\n  var url = _a.url;\n  var matches = url.match(/\\/(?:a|gallery)\\/([^\\/]+)(?:\\/|$)/);\n  if (!matches) return;\n  return [blocks.imgur, matches[1]];\n};\n\nvar routeGist = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 3) return undefined;\n  return [blocks.gist, steps[2]];\n};\n\nvar routeReplit = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length !== 3) return undefined;\n  var id = \"\".concat(steps[1], \"/\").concat(steps[2]);\n  return [blocks.replit, id];\n};\n\nvar routeGoogle = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n\n  if (steps[1] === 'maps' && steps.length >= 3) {\n    return [blocks.gmaps, ''];\n  }\n\n  return;\n};\n\nvar routeGfycat = function (blocks, _a) {\n  var pathname = _a.pathname;\n  var steps = pathname.split('/');\n  if (steps.length < 2) return undefined;\n  if (!steps[1] || typeof steps[1] !== 'string') return undefined;\n  var slugs = steps[1].split('-');\n  return [blocks.gfycat, slugs[0]];\n};\n\nvar routeToBlock = function (blocks, parsed) {\n  var hostname = parsed.hostname,\n      url = parsed.url;\n\n  switch (hostname) {\n    case 'twitter.com':\n      return routeTwitter(blocks, parsed);\n\n    case 'www.youtube.com':\n    case 'youtu.be':\n    case 'youtube.com':\n      return routeYouTube(blocks, parsed);\n\n    case 'soundcloud.com':\n      return [blocks.soundcloud, ''];\n\n    case 'jsfiddle.net':\n      return routeJsFiddle(blocks, parsed);\n\n    case 'imgur.com':\n      return routeImgur(blocks, parsed);\n\n    case 'www.instagram.com':\n      return [blocks.instagram, ''];\n\n    case 'gist.github.com':\n      return routeGist(blocks, parsed);\n\n    case 'repl.it':\n      return routeReplit(blocks, parsed);\n\n    case 'www.figma.com':\n      return [blocks.figma, ''];\n\n    case 'www.google.com':\n      return routeGoogle(blocks, parsed);\n\n    case 'gfycat.com':\n      return routeGfycat(blocks, parsed);\n\n    case 'dropbox.com':\n    case 'www.dropbox.com':\n      return [blocks.dropbox, ''];\n\n    default:\n      if (canPlayPdf(url)) {\n        return [blocks.pdf, ''];\n      } else if (canPlaySimplePlayer(url)) {\n        return [blocks.simplePlayer, ''];\n      } else if (canPlay(url)) {\n        return [blocks.reactPlayer, ''];\n      } else {\n        return undefined;\n      }\n\n  }\n};\n\nexport default routeToBlock;","map":{"version":3,"mappings":"AACA,OAAOA,mBAAP,MAAgC,sCAAhC;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;;AAEA,IAAMC,YAAY,GAAqB,UAACC,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACvD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;EACA,IAAI,CAACD,KAAK,CAACE,MAAX,EAAmB,OAAOC,SAAP;EACnB,OAAO,CAACN,MAAM,CAACO,KAAR,EAAeJ,KAAK,CAACA,KAAK,CAACE,MAAN,GAAe,CAAhB,CAApB,CAAP;AACD,CAJD;;AAMA,IAAMG,YAAY,GAAqB,UAACR,MAAD,EAASS,MAAT,EAAe;EACpD,IAAMC,WAAW,GAAGD,MAAM,CAACE,MAAP,CAAcC,KAAd,CAAoB,iBAApB,CAApB;EACA,IAAMC,QAAQ,GAAGJ,MAAM,CAACP,QAAP,CAAgBY,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAjB;;EACA,IAAIJ,WAAJ,EAAiB;IACf,OAAO,CAACV,MAAM,CAACe,OAAR,EAAiBL,WAAW,CAAC,CAAD,CAA5B,CAAP;EACD,CAFD,MAEO,IAAIG,QAAJ,EAAc;IACnB,OAAO,CAACb,MAAM,CAACe,OAAR,EAAiBF,QAAjB,CAAP;EACD,CAFM,MAEA;IACL,OAAOP,SAAP;EACD;AACF,CAVD;;AAYA,IAAMU,aAAa,GAAqB,UAAChB,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACxD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;EACA,IAAID,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB,OAAOC,SAAP;EACtB,OAAO,CAACN,MAAM,CAACiB,QAAR,EAAkBd,KAAK,CAAC,CAAD,CAAvB,CAAP;AACD,CAJD;;AAMA,IAAMe,UAAU,GAAqB,UAAClB,MAAD,EAASC,EAAT,EAAc;MAAJkB,GAAG;EAChD,IAAMC,OAAO,GAAGD,GAAG,CAACP,KAAJ,CAAU,mCAAV,CAAhB;EACA,IAAI,CAACQ,OAAL,EAAc;EACd,OAAO,CAACpB,MAAM,CAACqB,KAAR,EAAeD,OAAO,CAAC,CAAD,CAAtB,CAAP;AACD,CAJD;;AAMA,IAAME,SAAS,GAAqB,UAACtB,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACpD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;EACA,IAAID,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB,OAAOC,SAAP;EACtB,OAAO,CAACN,MAAM,CAACuB,IAAR,EAAcpB,KAAK,CAAC,CAAD,CAAnB,CAAP;AACD,CAJD;;AAMA,IAAMqB,WAAW,GAAqB,UAACxB,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACtD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;EACA,IAAID,KAAK,CAACE,MAAN,KAAiB,CAArB,EAAwB,OAAOC,SAAP;EACxB,IAAMmB,EAAE,GAAG,UAAGtB,KAAK,CAAC,CAAD,CAAR,EAAW,GAAX,EAAWuB,MAAX,CAAevB,KAAK,CAAC,CAAD,CAApB,CAAX;EACA,OAAO,CAACH,MAAM,CAAC2B,MAAR,EAAgBF,EAAhB,CAAP;AACD,CALD;;AAOA,IAAMG,WAAW,GAAqB,UAAC5B,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACtD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;;EACA,IAAID,KAAK,CAAC,CAAD,CAAL,KAAa,MAAb,IAAuBA,KAAK,CAACE,MAAN,IAAgB,CAA3C,EAA8C;IAC5C,OAAO,CAACL,MAAM,CAAC6B,KAAR,EAAe,EAAf,CAAP;EACD;;EACD;AACD,CAND;;AAQA,IAAMC,WAAW,GAAqB,UAAC9B,MAAD,EAASC,EAAT,EAAmB;MAATC,QAAQ;EACtD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;EACA,IAAID,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB,OAAOC,SAAP;EACtB,IAAI,CAACH,KAAK,CAAC,CAAD,CAAN,IAAa,OAAOA,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAArC,EAA+C,OAAOG,SAAP;EAC/C,IAAMyB,KAAK,GAAG5B,KAAK,CAAC,CAAD,CAAL,CAASC,KAAT,CAAe,GAAf,CAAd;EACA,OAAO,CAACJ,MAAM,CAACgC,MAAR,EAAgBD,KAAK,CAAC,CAAD,CAArB,CAAP;AACD,CAND;;AAQA,IAAME,YAAY,GAAqB,UAACjC,MAAD,EAAiBS,MAAjB,EAAkC;EAChE,YAAQ,GAASA,MAAM,SAAvB;EAAA,IAAUU,GAAG,GAAIV,MAAM,IAAvB;;EACP,QAAQyB,QAAR;IACE,KAAK,aAAL;MACE,OAAOnC,YAAY,CAACC,MAAD,EAASS,MAAT,CAAnB;;IACF,KAAK,iBAAL;IACA,KAAK,UAAL;IACA,KAAK,aAAL;MACE,OAAOD,YAAY,CAACR,MAAD,EAASS,MAAT,CAAnB;;IACF,KAAK,gBAAL;MACE,OAAO,CAACT,MAAM,CAACmC,UAAR,EAAoB,EAApB,CAAP;;IACF,KAAK,cAAL;MACE,OAAOnB,aAAa,CAAChB,MAAD,EAASS,MAAT,CAApB;;IACF,KAAK,WAAL;MACE,OAAOS,UAAU,CAAClB,MAAD,EAASS,MAAT,CAAjB;;IACF,KAAK,mBAAL;MACE,OAAO,CAACT,MAAM,CAACoC,SAAR,EAAmB,EAAnB,CAAP;;IACF,KAAK,iBAAL;MACE,OAAOd,SAAS,CAACtB,MAAD,EAASS,MAAT,CAAhB;;IACF,KAAK,SAAL;MACE,OAAOe,WAAW,CAACxB,MAAD,EAASS,MAAT,CAAlB;;IACF,KAAK,eAAL;MACE,OAAO,CAACT,MAAM,CAACqC,KAAR,EAAe,EAAf,CAAP;;IACF,KAAK,gBAAL;MACE,OAAOT,WAAW,CAAC5B,MAAD,EAASS,MAAT,CAAlB;;IACF,KAAK,YAAL;MACE,OAAOqB,WAAW,CAAC9B,MAAD,EAASS,MAAT,CAAlB;;IACF,KAAK,aAAL;IACA,KAAK,iBAAL;MACE,OAAO,CAACT,MAAM,CAACsC,OAAR,EAAiB,EAAjB,CAAP;;IACF;MACE,IAAIxC,UAAU,CAACqB,GAAD,CAAd,EAAqB;QACnB,OAAO,CAACnB,MAAM,CAACuC,GAAR,EAAa,EAAb,CAAP;MACD,CAFD,MAEO,IAAI3C,mBAAmB,CAACuB,GAAD,CAAvB,EAA8B;QACnC,OAAO,CAACnB,MAAM,CAACwC,YAAR,EAAsB,EAAtB,CAAP;MACD,CAFM,MAEA,IAAI3C,OAAO,CAACsB,GAAD,CAAX,EAAkB;QACvB,OAAO,CAACnB,MAAM,CAACyC,WAAR,EAAqB,EAArB,CAAP;MACD,CAFM,MAEA;QACL,OAAOnC,SAAP;MACD;;EArCL;AAuCD,CAzCD;;AA2CA,eAAe2B,YAAf","names":["canPlaySimplePlayer","canPlay","canPlayPdf","routeTwitter","blocks","_a","pathname","steps","split","length","undefined","tweet","routeYouTube","parsed","searchMatch","search","match","urlMatch","replace","youtube","routeJsFiddle","jsfiddle","routeImgur","url","matches","imgur","routeGist","gist","routeReplit","id","concat","replit","routeGoogle","gmaps","routeGfycat","slugs","gfycat","routeToBlock","hostname","soundcloud","instagram","figma","dropbox","pdf","simplePlayer","reactPlayer"],"sources":["../src/routeToBlock.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}